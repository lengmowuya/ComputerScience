### 理解VirtualDOM

虚拟DOM的算法是叫DIFF算法,本质是比较两个树的不同,并且将差异剖离出来.

![1679233588026](image/05.理解VirtualDOM/1679233588026.png)

DIFF算法的性能被优化到了O(n).

DIFF算法是广度优先分层比较.从根节点一层层往下比较.

DIFF算法不会检查你的元素是否移动到了其他节点下,只要位置元素和以往不同,他就会直接删除再插入新节点.

这种性能取舍问题是因为UI的一个特性:**UI结构一般不会改变**.

### 虚拟DOM的两个假设

1. 组件的DOM结构是相对稳定的.
2. 类型相同的兄弟节点可以被唯一标识.(如果没有指定key,就不会进行唯一识别,默认的处理方法性能开销会更大)
